<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>~/Mail2_chiHingLau.c.html</title>
<meta name="Generator" content="Vim/7.2" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<style type="text/css">
<!--
.Type { color: #00ff00; }
.PreProc { color: #ff40ff; }
.Statement { color: #ffff00; }
.Error { color: #ffffff; background-color: #ff6060; font-weight: bold; }
.Constant { color: #ffff00; }
pre { font-family: monospace; color: #ffffff; background-color: #000000; }
body { font-family: monospace; color: #ffffff; background-color: #000000; }
.Comment { color: #00ffff; }
-->
</style>
</head>
<body>
<pre>
<span class="Comment">/*</span><span class="Comment">********************************************************************************</span>
<span class="Comment"> *       Filename:  Mail2_chiHingLau</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       最近公司禁止用外部邮箱，所以只能这样回复，我专门在chinaunix.net上开了一个帖子，你的问题可以在这里跟帖，我可以查看和回复，谢谢</span>
<span class="Comment"> *       <a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328">http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328</a></span>
<span class="Comment"> *       <a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328">http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328</a></span>
<span class="Comment"> *       <a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328">http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328</a></span>
<span class="Comment"> *       <a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328">http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=4164483&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D328%26typeid%3D328</a></span>
<span class="Comment"> *******************************************************************************</span><span class="Comment">*/</span>

发件人：chihinglau &lt;<span class="Constant">251266110</span>@qq.com&gt;
发送日期：<span class="Constant">2014</span>-<span class="Constant">12</span>-<span class="Constant">21</span> <span class="Constant">12</span>:<span class="Constant">51</span>:<span class="Error">08</span>
收件人：emblinuxedu &lt;emblinuxedu@<span class="Constant">163.</span>com&gt;
主题：回复：你好，请问 你在淘宝上挂的“AT91sam9260开发板 支持3G/WIFI/SAM”还有在卖么?<span class="Comment">//已发货</span>
你好，根据目录的脚本交叉编译工具编译成功。还有些问题想请教一下。
<span class="Constant">1.</span>
----------------- For V22 LHG Version ----------------------------
tftp <span class="Constant">20000000</span> <span class="Constant">2.6.22</span>-LHG-uImage_2014 # 从<span class="Constant">192.168.200.138</span>下载内核文件
tftp <span class="Constant">21100000</span> <span class="Constant">2.6.22</span>-LHG_rootfs_2014 # 从<span class="Constant">192.168.200.138</span>下载rootfs
----------------- For V22 LHG Version ----------------------------


bootm <span class="Constant">20000000</span> # 从内存启动内核　
这个是会报错，提示无内核。但是V23没问题。我的板子是V21的。
<span class="Comment">//板子的硬件版本可以查看背面的V2？字样，对应的你看原理图的话就看相应的原理图PDF，按照你的说法，你的V21的板子烧录的是标准的uboot【即没有更改MagicNum的uboot】。</span>
<span class="Comment">//所以这个问题你可以使用标准的内核文件和文件系统【即使用标准的mkimage工具个内核打包-------mkimage文件由uboot生成，中间就包括了如上所说的MagicNum】</span>

<span class="Constant">2</span> . 执行kernel\build.sh会报错提示：　
scripts/kconfig/conf -s arch/arm/Kconfig
***
*** You have not yet configured your kernel!
*** (missing kernel .config file)
<span class="Comment">//'cp' 9260_configs_2014 .config -av【我的脚本有这么一行，如果执行成功就不会有*** (missing kernel .config file)的错误，你检测一下你的编译环境】</span>
***
*** Please run some configurator (e.g. <span class="Constant">&quot;make oldconfig&quot;</span> or
*** <span class="Constant">&quot;make menuconfig&quot;</span> or <span class="Constant">&quot;make xconfig&quot;</span>).
***
make[<span class="Constant">2</span>]: *** [silentoldconfig] Error <span class="Constant">1</span>
make[<span class="Constant">1</span>]: *** [silentoldconfig] Error <span class="Constant">2</span>
  CHK include/linux/version.h
  UPD include/linux/version.h
<span class="Statement">make</span>: *** No rule to make target `include/config/<span class="Type">auto</span>.conf', needed by `include/<span class="Statement">asm</span>-arm/.arch'. Stop.　
然后我执行make menuconfig完成，就选了个支持RAMdisk后编译结果如下：　
Image Name: Linux-<span class="Constant">2.6.22</span>
<span class="Statement">Created</span>: Thu Dec <span class="Constant">18</span> <span class="PreProc">0</span><span class="Constant">6</span>:<span class="Constant">42</span>:<span class="Constant">14</span> <span class="Constant">2014</span>
Image Type: ARM Linux Kernel Image (uncompressed)
Data Size: <span class="Constant">555940</span> Bytes = <span class="Constant">542.91</span> kB = <span class="Constant">0.53</span> MB
Load Address: <span class="Error">00008000</span>
Entry Point: <span class="Error">00008000</span>
  Image arch/arm/boot/uImage is ready　
请问我该怎么配置才能编译出和<span class="Constant">2.6.22</span>-LHG-uImage_2014或<span class="Constant">2.6.22</span>-STD-uImage_2014一样的内核？mkimage用的是tools目录下的　mkimage_STD
<span class="Comment">//tools/mkimage_LHG即我更改过MagicNum的uboot生成的，mkimage_STD是标准的uboot生成的，这个你自己也可很快编译出来</span>
<span class="Constant">3.</span>执行uboot目录下　build_u-boot.sh生成的mkimage和　tools目录下的mkimage都不一样。该如何操作才能生成一样？　　
u-boot-new/include/image.h
<span class="Comment">//#define IH_MAGIC 0x27051956  /* Image Magic Number       */</span>
+#define IH_MAGIC   <span class="Constant">0x534C4847</span>  <span class="Comment">/*</span><span class="Comment"> Image Magic Number LSHG  z    这个是我新设置的MagicNum</span><span class="Comment">*/</span>
<span class="Constant">4.</span>rootfs目录下　make_rootfs_smart.script怎么用才能生成对应的文件系统？
<span class="Comment">//这个脚本就只有这两个shell函数Ramdisk2fsStart  Ramdisk2fsEnd 以及一些变量,把这个脚本内容添加到你的用户环境中去，就可知直接调用这两个命令了，</span>
<span class="Comment">//但是你先确保你能看懂，不然我我没法跟你讲明白</span>
多谢。
</pre>
</body>
</html>
